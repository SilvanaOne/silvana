# Silvana Coordinator Configuration - Sui Devnet Only
#
# This configuration uses only the Sui devnet coordination layer
# for development and testing purposes.

# General coordinator settings
[coordinator]
# Enable Sui devnet and Ethereum Anvil layers
enable_layers = ["sui-devnet", "ethereum-anvil"]

# Maximum number of parallel jobs
max_parallel_jobs = 10

# Reconciliation interval in seconds (for stuck job detection)
reconciliation_interval = 30

# Enable metrics reporting
enable_metrics = true

# Metrics reporting interval in seconds
metrics_interval = 60

# =============================================================================
# Sui Coordination Layer (Devnet)
# =============================================================================
[sui]
# Unique identifier for this layer
layer_id = "sui-devnet"

# Sui Devnet RPC endpoint
rpc_url = "https://rpc-devnet-grpc.suiscan.xyz:443"


# Silvana coordination package ID on Sui Devnet
package_id = "0x550610f218c477130ca135659977de4c6f884d0a44e86949cf15d296c92374ce"

# Silvana registry package ID on Sui Devnet
registry_id = "0xdf768747cb016e015ac9d60dd6420e9d9e6640876d17b3e1e9d61ab5e057262a"

# Operation mode for Sui (multicall for gas optimization)
operation_mode = "multicall"

# Optional: Filter to only process specific app instances
# Uncomment and set if you want to filter by app instance
# app_instance_filter = "0xabcd"

# =============================================================================
# Private Coordination Layers (empty - not used)
# =============================================================================
# No private layers configured for devnet-only setup

# =============================================================================
# Ethereum Coordination Layers
# =============================================================================

[[ethereum]]
# Unique identifier for this layer
layer_id = "ethereum-anvil"

# Anvil local testnet RPC endpoint
rpc_url = "http://localhost:8545"

# WebSocket URL for event streaming
ws_url = "ws://localhost:8545"

# Deployed SilvanaCoordination contract address on Anvil
contract_address = "0x5FC8d32690cc91D4c39d9d3abcBD16989F875707"



# JobManager contract address (for listening to JobCreated events)
job_manager_address = "0x5FbDB2315678afecb367f032d93F642f64180aa3"

# Environment variable containing private key for signing transactions
private_key_env = "ETHEREUM_PRIVATE_KEY"

# Operation mode (direct - multicall not implemented yet)
operation_mode = "direct"

# Anvil chain ID
chain_id = 31337

# Gas price multiplier for safety margin
gas_price_multiplier = 1.2

# Maximum gas limit per transaction
max_gas = 10000000

# Multicall settings (currently ignored - multicall not implemented)
multicall_interval_secs = 3
multicall_max_operations = 100

# Optional: Filter to only process specific app instances
# Uncomment and set if you want to filter by app instance prefix
# app_instance_filter = "add-app"

# =============================================================================
# Usage Notes
# =============================================================================
#
# This configuration runs the coordinator in multi-layer mode with:
# 1. Sui devnet - For Sui-based app instances
# 2. Ethereum Anvil - For Ethereum-based app instances (local testnet)
#
# This is suitable for:
# - Local development with Ethereum
# - Testing coordinator multi-layer functionality
# - Running add-ethereum example
#
# The coordinator will use credentials from environment variables:
# - SUI_ADDRESS (from .env)
# - SUI_SECRET_KEY (from .env)
# - ETHEREUM_PRIVATE_KEY (from .env)
#
# To use this configuration:
# 1. Ensure .env file exists with SUI and ETHEREUM credentials
# 2. Start Anvil in a separate terminal: anvil
# 3. Run: silvana start --config coordinator.toml
# OR just: silvana start (auto-detects coordinator.toml)
#
# For Anvil testnet (chain ID 31337), you can use the default test account:
# ETHEREUM_PRIVATE_KEY=0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80
